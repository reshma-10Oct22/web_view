var ZCPageChart={loadZCChart:function loadZCChart(B,A,D){A=JSON.parse(A);ZCPageChart.getFontFamily(A);ZCPageChart.charttype=ZCPageChart.getChartTypeFromText(A.charttype);var C=ZCPageChart.getZCChart(A,D);$ZC.charts(B,C)},getFontFamily:function getFontFamily(A){var B;if(window.appMeta){switch(appMeta.APPTHEME){case 1:B="'Lato',sans-serif";break;case 2:B="'OpenSans',sans-serif";break;case 3:B="'Lato',sans-serif";break;case 4:B="'Lato',sans-serif";break;case 5:B="'Lato',sans-serif";break;case 6:B="'Lato',sans-serif";break;case 7:B="'Lato',sans-serif";break;case 8:B="'Lato',sans-serif";break;case 9:B="'Lato',sans-serif";break}}else{B="'Lato',sans-serif"}A.fontFamily=B},getZCChart:function getZCChart(B,A){var I={};I.canvas={theme:"elegant ",title:{text:""},subtitle:{show:false},background:{color:"#FFFFFF"}};I.metadata={columns:[],axes:{x:[0],y:[[1]],clr:[2],tooltip:['<span style="font-weight:bold;font-size:14px;font-family:'+B.fontFamily+';">{{val(2)}}</span>','<span style="font-weight:600;font-size:14px;font-family:'+B.fontFamily+';">{{val(0)}}</span> : <span style="font-weight:600;font-size:14px;font-family:'+B.fontFamily+';">{{val(1)}}</span>']}};I.tooltip={padding:10,lineHeight:17};var K={};K.theme1=["#f04836","#efa21b","#48a3e8","#5de1b5","#bf2ae7","#ec3fa3","#FB7060","#FBBB4A","#7CC5FB","#8AFBD6","#DC6CFA","#FB72C2","#F43621","#ED9B0A","#3098E6","#47E6B1","#BC16E9","#EB2297"];K.theme2=["#79b5e3","#69e85c","#63cfd8","#7e89ae","#3edca7","#c543eb","#92CCF9","#88FC7C","#8EF1FA","#A3B1DE","#63F9C7","#D96BF9","#62ABE3","#51E741","#4ECFDA","#6A7BB3","#28DFA1","#BF28EB"];K.theme3=["#f4b380","#da6eef","#ffbf61","#edab76","#ee6ca6","#e7d276","#FCC79C","#EB8FFC","#FECA7C","#FBC092","#F986B9","#FDEA96","#F3A262","#D754F0","#F6AF45","#EC9754","#ED4F95","#E1C652"];K.theme4=["#fb7c57","#edab76","#ffc27c","#07c197","#68e179","#7aa8d8","#F89577","#FAC398","#FACB96","#10EAB8","#85F896","#98C4F0","#EC623A","#E69758","#EEAA5B","#10B28D","#4DCD60","#5C94CC"];var D={};D.dataindex="0";if(!B.xTitle||B.xTitle.length===0){D.columnname="X title"}else{D.columnname=B.xTitle}D.datatype="ordinal";var J={};J.dataindex="1";if(!B.yTitle||B.yTitle.length===0){J.columnname="Y title"}else{J.columnname=B.yTitle}var G=B.seriesType;var H=10;var F=22;if((G.includes(H)||G.includes(F))&&B.hasCount!=="true"){if(G.includes(F)){J.datatype="time";J.time={inputformat:"YYYY-MM-dd HH:mm:ss",format:{specifier:B.dateTimeDetails.is24HourFormat?[B.dateTimeDetails.dateFormat,"HH:mm:ss"]:[B.dateTimeDetails.dateFormat,"hh:mm:ss a"]}}}if(G.includes(H)){J.datatype="time";J.time={inputformat:"YYYY-MM-dd",subfunction:"DATE",format:{specifier:B.dateTimeDetails.dateFormat}}}}else{J.datatype="numeric";J.numeric={format:{thousandSeperator:","}}}if(B.hasCount==="true"){J.numeric.subfunction="integer"}I.metadata.columns.push(D);I.metadata.columns.push(J);var E={};E.datatype="ordinal";I.metadata.columns.push(E);I.seriesdata={chartdata:ZCPageChart.getChartData(B)};if(B.stackedGrp){I.seriesdata.stackGroup=B.stackedGrp}I.chart={axes:ZCPageChart.getAxisConfig(B),plot:ZCPageChart.getPlotConfig(B,A)};var C=B.theme;var L=B.legendPos.split(".");I.legend={colorPallete:{type:"multicolor",options:{multicolor:"countries",monochrome:{baseColor:"#ff0000"}}},hAlign:L[0],vAlign:L[1],fontSize:14,itemMargin:10,fontFamily:B.fontFamily,fontColor:"#666666",enabled:B.legendPos!="none"};if(C!==undefined){if(C.substring(0,1)=="#"){I.legend.colorPallete.type="monochrome";I.legend.colorPallete.options.monochrome.baseColor=C}else{I.legend.colors=K[C]}I.canvas.background.color=B.bgColor}return I},getChartData:function getChartData(T){var F=ZCPageChart.getZCChartType(T);var C=T.plotdata;var K=T.seriesName;var D=T.compareData;var A;var U=[];if(T.stackGroup){var I=0;var J=C.length/T.stackGroup;var L=J;var H=0;var O=K.length/T.stackGroup;var E=O;var S=[];for(var Q=0;Q<T.stackGroup;Q++){var M=C.slice(I,J);var B=K.slice(H,O);var G=D.slice(I,J);var N=[];for(var R=0;A=B[R];R++){N.push(H+R);var P={};P.type=F;P.yaxiscolumnorder=[0];P.seriesname=A[0].replace(/&#x20;/g," ");if(A[0]=="ID"){P.seriesname="Total Records"}P.data=ZCPageChart.getDataForGroupSeries(M,G,A[1]);U.push(P)}I+=L;J+=L;H=E+H;O=E+O;S.push(N)}T.stackedGrp=S}else{for(var R=0;A=K[R];R++){var P={};P.type=F;P.yaxiscolumnorder=[0];P.seriesname=A;if(A=="ID"){P.seriesname="Total Records"}P.data=ZCPageChart.getDataForSeries(R+1,C);U.push(P)}}return U},getDataForSeries:function getDataForSeries(A,F){var E=[];var G;for(var C=0;G=F[C];C++){if(G[0]||G[0]===null||G[0]===""){var D=[];if(G[0]===null){D.push("Unknown")}else{if(G[0]===""){D.push("Empty")}else{D.push(G[0])}}var B=G[A];D.push(ZCPageChart.validateColumnData(B));E.push(D)}}return E},getDataForGroupSeries:function getDataForGroupSeries(C,I,A){var H=[];var J;var F;var G;for(var E=0;J=C[E];E++){var B=[];B.push(J[0]);F=0;for(var D=1;D<I[E].length;D++){if(I[E][D]==A){F=D;break}}if(F>0){G=J[F]}else{G=0}B.push(ZCPageChart.validateColumnData(G));H.push(B)}return H},validateColumnData:function validateColumnData(A){if(!A){A=0}return A},getPlotConfig:function getPlotConfig(C,G){var F={};var B={};F.plotoptions=B;var E=ZCPageChart.getZCChartType(C);B[E]={};if(E==="bar"){B[E].maxBandWidth=50}var A=ZCPageChart.isStackedChart(C);if(A.isStack){B[E].stacked={enabled:true};if(A.isPercent){B[E].stacked.showAs="percent"}}var D=ZCPageChart.charttype;if(D=="pie_2"||D=="pie_3"){B[E]={innerRadius:"50%"};if(D=="pie_3"){B[E].startAngle=-1.57;B[E].endAngle=1.57}}if(G){F.animation={enabled:false}}return F},isStackedChart:function isStackedChart(B){var C=ZCPageChart.charttype;var A={};switch(C){case"column_2":case"bar_2":case"web_2":case"area_2":A.isStack=true;break;case"column_3":case"bar_3":A.isStack=true;A.isPercent=true;break;default:A.isStack=false}return A},getAxisConfig:function getAxisConfig(A){var B=ZCPageChart.getZCChartType(A);var C={};if(B==="web"){C={xaxis:{grid:{color:"black"},tickmark:{color:"black"}},yaxis:[{ticklabel:{fontColor:"transparent"},grid:{color:"grey"}}]}}else{C={xaxis:{label:{text:A.xTitle,fontSize:16,fontFamily:A.fontFamily,fontColor:"#666666"},ticklabel:{rotation:"auto",fontFamily:A.fontFamily,fontSize:14,fontColor:"#444444"}},yaxis:[{label:{text:A.yTitle,fontSize:16,fontFamily:A.fontFamily,fontColor:"#666666"},ticklabel:{fontSize:14,fontFamily:A.fontFamily,fontColor:"#444444"}}]};if(ZCPageChart.charttype.split("_")[0]==="bar"){C.rotated=true}}return C},getZCChartType:function getZCChartType(A){var B=ZCPageChart.charttype.split("_")[0];if(B==="column"){return"bar"}return B},getChartTypeFromText:function getChartTypeFromText(B){var A=B;switch(B){case"Column":A="column_1";break;case"Stacked Column":A="column_2";break;case"Stacked Percentage Column":A="column_3";break;case"Bar":A="bar_1";break;case"Stacked Bar":A="bar_2";break;case"Stacked Percentage Bar":A="bar_3";break;case"Line":A="line_1";break;case"Scatter":A="scatter_1";break;case"Area":A="area_1";break;case"Stacked Area":A="area_2";break;case"Web":A="web_1";break;case"Stacked Web":A="web_2";break;case"Pie":A="pie_1";break;case"Donut":A="pie_2";break;case"Semi Donut":A="pie_3";break;case"Funnel":A="funnel_1";break;default:}return A}};